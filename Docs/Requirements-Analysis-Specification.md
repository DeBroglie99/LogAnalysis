# 需求分析规约



## 引言



### 项目背景

现代系统大规模发展，已经成为 IT 行业的核心部分，支持各种在线服务和智能应用。这些系统大多设计为全天候 24x7 运行，每小时就有约几百 GB（约120至2亿行）大量日志，在系统操作期间记录详细的运行时信息。

此外5G的出现，不仅伴随着数据传输速率的提高、延迟的减少以及设备连接的大规模化，同时也伴随着数据量的增多、微服务的增多等，由此将产生大量的日志数据，这些数据中记录了众多的5G设备运行信息，如何利用这些信息做到日志**异常诊断智能化**，对于5G时代系统的运维具有重要的意义。

系统发生故障前，其日志通常都具有许多特征反应出系统的异常状态，如果我们能提前发现系统异常，就能避免系统发生更严重的错误。然而在目前大多数系统中，管理员都是在系统出现故障之后，根据日志信息进行排错。这种事后检测会浪费大量的时间和精力，并且不一定能取得很好的效果。

传统的日志分析方法具有速度慢，鲁棒性差，难以适应大型系统等弊端，以迫切需要自动的、基于日志的系统异常检测方案。因此本项目使用**机器学习**方法来**自动化**学习，检测，定位日志中可能出现的异常。



### 项目目标

* 使用机器学习方法来**自动化**学习，检测，定位日志中可能出现的异常。

* 对产生异常的原因进行自动化分析，实现对异常的自动化**诊断**



## 功能需求



### 系统范围



### 系统体系结构



### 系统总体流程



### 需求分析

#### 功能建模

#### 行为建模



## 非功能需求



### 性能要求

#### 时间特性要求

- 预测响应时间：由于我们是对日志流的检测，而日志流的产生速度非常快，所以我们对日志产生的日常需要及时响应。

#### 准确率要求

我们的的模型针对日志异常进行检测，故需要做到两点要求：

- 准确率：准确率需要高，即我们需要将日志中异常的部分准确地找出来。
- 误报率：在保证准确率高地同时要使误报率尽量低，否则将正确日志误报为异常将会给用户带来极大的困扰。

#### 输入输出要求

输入：

- 训练：训练阶段输入一个用于训练地日志文件，该文件中每一行都是一条日志。并且该日志中所有的日志都是正常的日志。
- 预测：预测阶段用户输入一个用于预测的日志文件，该文件中每一行都是一条日志文件，文件中有异常日志也有正常日志。

输出：

- 训练：训练阶段输出为两个模型，一个用于`log key`的预测，一个用于`log value`的预测。
- 预测：预测阶段输出为预测文件中的错误日志，包括模型一预测出的异常和模型二预测出的异常。



### 安全性要求

软件必须具有较高的安全性。因为日志中包含企业的敏感信息，我们必须保证日志不会泄露出去造成企业机密的泄露和企业的损失。



### 灵活性要求

- 可扩展性：日志预处理的方法有很多，同时用于异常检测的模型也有很多。我们需要对这些方法和模型进行评估，这就要求我们的软件可扩展性要强，可以支持扩展日志预处理方法和模型的结构等。
- 适应性：日志的种类繁多，我们的软件需要对各种各样的日志都有较好的效果。所以我们的模型需要有较广的适应性，从而可以用于多种不同的日志。



## 运行环境规定



### 前端要求

- node.js>=8.11.3



### 后端要求

* python>=3.6
* Flask==1.0.2
* Flask-Cors==3.0.6
* numpy==1.18.0
* scikit-learn==0.19.2
* scipy==1.1.0
* tensorboardX==1.9
* pytorch==1.2.0